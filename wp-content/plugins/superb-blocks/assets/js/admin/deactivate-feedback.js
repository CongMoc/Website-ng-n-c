(()=>{"use strict";!function(a){const e=a("#the-list").find('[data-plugin="'+superbaddonssettings_g.plugin+'"] span.deactivate a'),d=a(".superbaddons-admindashboard-modal-content .superbaddons-feedback-input input[type=radio]"),n=a("#superbaddons-feedback-text");let s=!1;d.on("change",(function(){"other"==this.value?(n.prop("disabled",!1),n.show()):(n.prop("disabled",!0),n.hide()),s=a(this).data("temp")||!1})),e.on("click",(function(o){o.preventDefault(),(a=>{const e=jQuery(".superbaddons-admindashboard-modal-wrapper"),d=e.find(".superbaddons-admindashboard-modal-overlay"),n=e.find(".superbaddons-admindashboard-modal-close-button"),s=e.find(".superbaddons-admindashboard-modal-confirm-btn"),o=e.find(".superbaddons-admindashboard-modal-cancel-btn"),t=e.find(".superbaddons-admindashboard-modal-ok-btn"),i=e.find(".superbaddons-admindashboard-modal-title"),r=e.find(".superbaddons-admindashboard-modal-content"),l=e.find(".superbaddons-admindashboard-modal-header-spinner"),c=e.find(".superbaddons-admindashboard-modal-footer"),p=e.find(".superbaddons-element-separator"),b=a.title||!1,u=a.copyable||!1,m=a.content||!1,h=a.confirmCallback||!1,f=a.cancelCallback||!1,w=a.okCallback||!1,g=a.awaitConfirmCallback||!1,y=a.stopCloseOnConfirm||!1,k=a.preventClosing||!1,v=a.isLoader||!1,_=function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.off(),o.off(),n.off(),d.off(),t.off(),jQuery(window).off("keydown.superbaddons-admin-modal"),a?e.hide():e.fadeOut("fast")};((a,b,m,h,f,w,g,k)=>{if(g?(n.off(),d.off(),jQuery(window).off("keydown.superbaddons-admin-modal"),n.hide()):(jQuery(window).on("keydown.superbaddons-admin-modal",(a=>{27==(a.keyCode||a.which)&&_()})),n.on("click",(()=>{_()})),d.on("click",(()=>{_()}))),k)return l.show(),i.hide(),c.hide(),n.hide(),p.hide(),r.text(b),void e.fadeIn("fast");if(l.hide(),c.show(),i.show(),g||n.show(),p.show(),a&&i.text(a),b)if(Array.isArray(b))r.text(""),b.map((a=>{const e=jQuery("<div class='superbaddons-admindashboard-modal-content-item'></div>"),d=jQuery("<div class='superbaddons-admindashboard-modal-content-item-title'></div>"),n=jQuery("<div class='superbaddons-admindashboard-modal-content-item-content'></div>"),s=jQuery("<img class='superbaddons-admindashboard-modal-content-item-icon' />");superbaddonssettings_g&&(s.attr("src",a.shared?superbaddonssettings_g.modal.view_logs.icon_shared:superbaddonssettings_g.modal.view_logs.icon_unshared),s.attr("title",a.shared?superbaddonssettings_g.modal.view_logs.shared_title:superbaddonssettings_g.modal.view_logs.unshared_title));const o=new Date(1e3*a.time),t=o.toLocaleDateString()+" "+o.toLocaleTimeString();d.text(t+" (v."+a.version+"): "+a.title),d.prepend(s),n.text(a.stack),e.append(d),e.append(n),r.append(e)}));else if(u){r.text("");const a=jQuery('<textarea class="superbaddons-admindashboard-modal-copyable-item" onclick="this.focus();this.select()" readonly="readonly"></textarea>'),e=jQuery('<div class="superbaddons-element-text-sm superbaddons-admindashboard-modal-copyable-explainer"></div>');e.text(u),a.text(b),r.append(a),r.append(e)}else r.text(b);m?(s.show(),o.show(),t.hide(),s.on("click",(async()=>{w?await m():m(),y||_()}))):(s.hide(),o.hide(),t.show(),t.on("click",(()=>{f&&f(),y||_()}))),h?o.on("click",(()=>{h(),_()})):o.on("click",(()=>{_()})),e.fadeIn("fast")})(b,m,h,f,w,g,k,v)})({awaitConfirmCallback:!0,confirmCallback:async function(){if(s)return location.href=e.attr("href"),!0;const o=a(".superbaddons-admindashboard-modal input, .superbaddons-admindashboard-modal button");if(o.prop("disabled",!0),a(".superbaddons-admindashboard-modal-footer .superbaddons-spinner-wrapper").show(),d.filter(":checked").length){await async function(a,e,d){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const s={"X-WP-Nonce":e};let o=null,t=!1;n instanceof FormData?(t=!0,o=n,o.append("action",d)):(o="action="+d+n,s["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8");const i=await fetch(a,{method:"POST",credentials:"same-origin",headers:s,body:o});return 200!==i.status?{success:!1,text:"Unknown error occurred. Please contact support if the issue persists."}:i.json()}(superbaddonssettings_g.rest.base+superbaddonssettings_g.rest.namespace+superbaddonssettings_g.rest.routes.settings,superbaddonssettings_g.rest.nonce,"submit_feedback","&spbaddons_reason="+d.filter(":checked").val()+"&spbaddons_other="+n.val())}return o.prop("disabled",!1),a(".superbaddons-admindashboard-modal-footer .superbaddons-spinner-wrapper").hide(),location.href=e.attr("href"),!0},cancelCallback:async function(){return location.href=e.attr("href"),!0}})}))}(jQuery)})();